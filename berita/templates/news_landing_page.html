{% extends 'base.html' %}


{% block meta %}

<style>
    .carousel-item {
        height: 30rem;
        background: #777;
        color:white; 
        position: relative;
        background-position: center;
        background-size: cover;
    }
    .container-headline1 {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0; 
        padding-bottom: 50px;
    }

</style>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        function addFirstHeadline() {
            $.get("{% url 'berita:json'%}", function(data){

                for (var i = 0; i < 1; i++) {
                    // var news_title = document.createElement("h1"); 
                    var news_title = document.getElementById("first-headline"); 
                    var news_body = document.getElementById("first-newsbody"); 
                    // var container_headline1 = document.getElementsByClassName("container-headline1"); 

                    news_title.append(data[i].fields.news_title); 
                    news_title.setAttribute("href", "headline_news/1");
                    news_body.append(data[i].fields.news_body); 

                    // container_headline1.append(news_title); 
                    // container_headline1.append(news_body); 
                    // console.log(news_title); 
                    $(".container-headline1").append(news_title); 
                    $(".container-headline1").append(news_body); 

                    // $("#first-headline").append(news_title); 
                    // $("#first-newsbody").append(news_body); 
                }

                for (var j = 1; j < 2; j++) {
                    var news_title = document.getElementById("headline2"); 
                    var news_body = document.getElementById("newsbody2"); 
                    var container_headline1 = document.getElementById("container-headline2"); 

                    news_title.append(data[j].fields.news_title); 
                    console.log(news_title); 
                    news_title.setAttribute("href", "headline_news/2");
                    news_body.append(data[j].fields.news_body); 

                    $(".container-headline2").append(news_title); 
                    $(".container-headline2").append(news_body); 

                }

                for (var k = 2; k <= 2; k++) {
                    var news_title = document.getElementById("headline3"); 
                    var news_body = document.getElementById("newsbody3"); 
                    var container_headline1 = document.getElementById("container-headline3"); 

                    news_title.append(data[k].fields.news_title); 
                    console.log(news_title); 
                    news_title.setAttribute("href", "headline_news/3");
                    news_body.append(data[k].fields.news_body); 

                    $(".container-headline3").append(news_title); 
                    $(".container-headline3").append(news_body); 

                }
            })
        }

        $(document).ready(function(){
            addFirstHeadline(); 

    })

    </script>

{% endblock meta %}

{% block content %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

    <div id="newsCarousel" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#newsCarousel" data-bs-slide-to="0" class="active"></li>
            <li data-target="#newsCarousel" data-bs-slide-to="1"></li>
            <li data-target="#newsCarousel" data-bs-slide-to="2"></li>
            
        </ol>
        <div class="carousel-inner">
            
            <div class="carousel-item active" style="background-image:radial-gradient(red, yellow);">
                <div class="container-headline1">
                    <a id="first-headline"></a>
                    <span id="first-newsbody" class="d-inline-block text-truncate" style="max-width: 1010px; font-size: large;"></span>
                </div>
                
            </div>
            
            <div class="carousel-item" style="background-image:radial-gradient(blue, white);">
                <div class="container-headline2">
                    <a id="headline2"></a>
                    <span id="newsbody2" class="d-inline-block text-truncate" style="max-width: 1010px; font-size: large;"></span>
                </div>
            </div>

            <div class="carousel-item" style="background-image:radial-gradient(blue, white);">
                <div class="container-headline3">
                    <a id="headline3"></a>
                    <span id="newsbody3" class="d-inline-block text-truncate" style="max-width: 1010px; font-size: large;"></span>
                </div>
            </div>
            
            <a href="#newsCarousel" class="carousel-control-prev" role="button" data-bs-slide="prev">
                <span class="visually-hidden">Previous</span>
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            </a>

            <a href="#newsCarousel" class="carousel-control-next" role="button" data-bs-slide="next">
                <span class="visually-hidden">Next</span>
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
            </a>
        </div>
    </div>




{% endblock content %}
